@model CMPE344.ViewModels.Account.RegisterViewModel
@{
    ViewData["Title"] = "Register";
}
<h1>Register</h1>
<form asp-controller="Account" asp-action="Register" method="post" asp-antiforgery="true" novalidate>
    <h2>Create a new account</h2>
    <hr>

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="row g-2 mb-3">
        <div class="col-md form-floating">
            <input asp-for="@Model.FirstName" class="form-control" placeholder="First name" />
            <label asp-for="@Model.FirstName"></label>
            <span asp-validation-for="@Model.FirstName" class="text-danger" />
        </div>

        <div class="col-md form-floating">
            <input asp-for="@Model.LastName" class="form-control" placeholder="Last name" />
            <label asp-for="@Model.LastName"></label>
            <span asp-validation-for="@Model.LastName" class="text-danger" />
        </div>
    </div>

    <div class="form-floating mb-3">
        <input asp-for="@Model.Email" class="form-control" placeholder="name@example.com" />
        <label asp-for="@Model.Email"></label>
        <span asp-validation-for="@Model.Email" class="text-danger" />
    </div>

    <div class="form-floating mb-3">
        <input asp-for="@Model.Password" class="form-control" placeholder="Password" />
        <label asp-for="@Model.Password"></label>
        <span asp-validation-for="@Model.Password" class="text-danger" />
    </div>

    <div class="form-floating mb-3">
        <input asp-for="@Model.ConfirmPassword" class="form-control" placeholder="Confirm password" />
        <label asp-for="@Model.ConfirmPassword"></label>
        <span asp-validation-for="@Model.ConfirmPassword" class="text-danger" />
    </div>

    <div class="form-floating mb-3">
        <input asp-for="@Model.Address" class="form-control" placeholder="Address" />
        <label asp-for="@Model.Address"></label>
        <span asp-validation-for="@Model.Address" class="text-danger" />
    </div>

    <div class="form-floating mb-3">
        <input asp-for="@Model.PhoneNumber" class="form-control" placeholder="Phone number" />
        <label asp-for="@Model.PhoneNumber"></label>
        <span asp-validation-for="@Model.PhoneNumber" class="text-danger" />
    </div>

    <div class="form-check-inline mb-3">
        <input type="radio" value="Customer" asp-for="@Model.UserType" id="UserType1" class="form-check-input" checked />
        <label for="UserType1" class="form-check-label">Customer</label>
    </div>

    <div class="form-check-inline mb-3">
        <input type="radio" value="Travel Agent" asp-for="@Model.UserType" id="UserType2" class="form-check-input" />
        <label for="UserType2" class="form-check-label">Travel Agent</label>
    </div>

    <div id="TravelAgentDetails" class="mb-3">
        <div class="form-floating mb-3">
            <input asp-for="@Model.AgencyName" class="form-control" placeholder="Agency name" />
            <label asp-for="@Model.AgencyName"></label>
            <span asp-validation-for="@Model.AgencyName" class="text-danger" />
        </div>

        <div class="form-floating mb-3">
            <input type="number" step="0.1" asp-for="@Model.CommissionRate" class="form-control" placeholder="Commission Rate" />
            <label asp-for="@Model.CommissionRate"></label>
            <span asp-validation-for="@Model.CommissionRate" class="text-danger" />
        </div>
    </div>

    <button type="submit" class="w-100 btn btn-lg btn-primary">Register</button>
    <p>Already have an account? @Html.ActionLink("Log in", "Login", "Account")</p>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        $('input[name="UserType"]').on('change', function () {
            $('#TravelAgentDetails').toggle(this.value === 'Travel Agent' && this.checked);
        }).change();
    </script>
}